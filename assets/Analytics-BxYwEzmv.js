import{r as e,R as t,j as r,p as s,B as a,L as l,s as i,f as c,g as d,c as o,x,y as n,z as g}from"./vendor-CjuAVZ7F.js";import{g as m}from"./index-DN0dzhwU.js";import{m as b}from"./ui-CiILanuQ.js";import"./firebase-DuvuO4R-.js";const h=({lists:h,onBack:v})=>{const[j,p]=e.useState("all");m();const N=t.useMemo(()=>{const e=h.filter(e=>e.isCreator),t=h.filter(e=>!e.isCreator),r=h.length,s=e.length,a=t.length;let l=0,i=0,c=null,d=0;e.forEach(e=>{const t=(e.sharedWith||[]).length;l+=t,i+=t,t>d&&(d=t,c=e)});const o=h.filter(e=>e.updatedAt).sort((e,t)=>{const r=e.updatedAt.toDate?e.updatedAt.toDate():new Date(e.updatedAt);return(t.updatedAt.toDate?t.updatedAt.toDate():new Date(t.updatedAt))-r}).slice(0,5),x=h.reduce((e,t)=>e+(t.items||[]).length,0),n=h.reduce((e,t)=>e+(t.items||[]).filter(e=>e.completed).length,0),g=x>0?Math.round(n/x*100):0,m=h.map(e=>({name:e.name,size:(e.items||[]).length,isOwned:e.isCreator})).sort((e,t)=>t.size-e.size),b=e.map(e=>({name:e.name,shares:(e.sharedWith||[]).length,createdAt:e.createdAt})).sort((e,t)=>t.shares-e.shares);return{totalLists:r,totalOwnedLists:s,totalSharedLists:a,totalSharedUsers:l,totalShares:i,mostSharedList:c,maxShares:d,recentActivity:o,totalItems:x,completedItems:n,completionRate:g,listSizes:m,sharingDistribution:b}},[h]),u=e=>{if(!e)return"Onbekend";const t=new Date-(e.toDate?e.toDate():new Date(e)),r=Math.floor(t/36e5),s=Math.floor(t/864e5);return r<1?"Zojuist":r<24?`${r} uur geleden`:1===s?"Gisteren":s<7?`${s} dagen geleden`:(e=>e?(e.toDate?e.toDate():new Date(e)).toLocaleDateString("nl-NL",{day:"numeric",month:"short",year:"numeric"}):"Onbekend")(e)};return r.jsxs("div",{className:"min-h-screen-safe bg-[rgb(var(--bg-color))] transition-colors duration-300",children:[r.jsx("div",{className:"fixed inset-x-0 top-0 h-[var(--safe-area-inset-top)] bg-[rgb(var(--card-bg))] z-50"}),r.jsx("header",{className:"fixed-top-safe bg-[rgb(var(--card-bg))] shadow-sm border-b border-[rgb(var(--border-color))]/20 header-safe-area",children:r.jsx("div",{className:"max-w-[1920px] mx-auto px-4 lg:px-8 xl:px-12 safe-area-x",children:r.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:v,className:"flex items-center justify-center w-10 h-10 lg:w-12 lg:h-12 rounded-xl bg-[rgb(var(--border-color))]/20 hover:bg-[rgb(var(--border-color))]/30 text-[rgb(var(--card-text))] transition-all duration-200 group","aria-label":"Terug naar overzicht",children:r.jsx(s,{className:"w-5 h-5 lg:w-6 lg:h-6 group-hover:-translate-x-1 transition-transform duration-200"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl lg:text-2xl xl:text-3xl font-bold text-[rgb(var(--card-text))] tracking-tight",children:"Analytics Dashboard"}),r.jsx("p",{className:"hidden lg:block text-sm text-[rgb(var(--text-color))]/60 font-medium",children:"Overzicht van je lijsten en delen-activiteit"})]})]}),r.jsx("div",{className:"flex items-center justify-center w-10 h-10 lg:w-12 lg:h-12 bg-[rgb(var(--primary-color))] rounded-xl shadow-lg",children:r.jsx(a,{className:"w-5 h-5 lg:w-6 lg:h-6 text-white"})})]})})}),r.jsx("main",{className:"max-w-6xl mx-auto px-4 lg:px-8 xl:px-12 py-6 lg:py-8 xl:py-12 safe-area-x content-safe-area",style:{paddingTop:"calc(var(--header-height) + 1.5rem)"},children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-2 md:grid-cols-4 gap-4 lg:gap-6",children:[r.jsxs("div",{className:"bg-[rgb(var(--primary-color))]/10 rounded-xl lg:rounded-2xl p-4 lg:p-6 text-center",children:[r.jsx(l,{className:"w-8 h-8 lg:w-10 lg:h-10 text-[rgb(var(--primary-color))] mx-auto mb-3"}),r.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-[rgb(var(--card-text))]",children:N.totalLists}),r.jsx("div",{className:"text-sm lg:text-base text-[rgb(var(--text-color))]/60",children:"Totaal lijsten"})]}),r.jsxs("div",{className:"bg-[rgb(var(--secondary-color))]/10 rounded-xl lg:rounded-2xl p-4 lg:p-6 text-center",children:[r.jsx(i,{className:"w-8 h-8 lg:w-10 lg:h-10 text-[rgb(var(--secondary-color))] mx-auto mb-3"}),r.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-[rgb(var(--card-text))]",children:N.totalOwnedLists}),r.jsx("div",{className:"text-sm lg:text-base text-[rgb(var(--text-color))]/60",children:"Eigenaar van"})]}),r.jsxs("div",{className:"bg-[rgb(var(--accent-color))]/10 rounded-xl lg:rounded-2xl p-4 lg:p-6 text-center",children:[r.jsx(c,{className:"w-8 h-8 lg:w-10 lg:h-10 text-[rgb(var(--accent-color))] mx-auto mb-3"}),r.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-[rgb(var(--card-text))]",children:N.totalSharedLists}),r.jsx("div",{className:"text-sm lg:text-base text-[rgb(var(--text-color))]/60",children:"Gedeeld met jou"})]}),r.jsxs("div",{className:"bg-[rgb(var(--success-color))]/10 rounded-xl lg:rounded-2xl p-4 lg:p-6 text-center",children:[r.jsx(d,{className:"w-8 h-8 lg:w-10 lg:h-10 text-[rgb(var(--success-color))] mx-auto mb-3"}),r.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-[rgb(var(--card-text))]",children:N.totalShares}),r.jsx("div",{className:"text-sm lg:text-base text-[rgb(var(--text-color))]/60",children:"Keer gedeeld"})]})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8",children:[r.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-[rgb(var(--card-bg))] rounded-2xl shadow-lg border border-[rgb(var(--border-color))]/20 p-6 lg:p-8",children:[r.jsxs("h2",{className:"text-xl lg:text-2xl font-bold text-[rgb(var(--card-text))] mb-6 flex items-center",children:[r.jsx(d,{className:"w-6 h-6 mr-3 text-[rgb(var(--secondary-color))]"}),"Deel Statistieken"]}),r.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-[rgb(var(--text-color))]/80",children:"Totaal gedeelde gebruikers:"}),r.jsx("span",{className:"font-semibold text-[rgb(var(--card-text))] text-lg",children:N.totalSharedUsers})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-[rgb(var(--text-color))]/80",children:"Gemiddeld per lijst:"}),r.jsx("span",{className:"font-semibold text-[rgb(var(--card-text))] text-lg",children:N.totalOwnedLists>0?Math.round(N.totalShares/N.totalOwnedLists*10)/10:0})]}),N.mostSharedList&&r.jsxs("div",{className:"pt-4 border-t border-[rgb(var(--border-color))]/20",children:[r.jsx("div",{className:"text-sm text-[rgb(var(--text-color))]/60 mb-2",children:"Meest gedeelde lijst:"}),r.jsx("div",{className:"font-medium text-[rgb(var(--card-text))] text-lg",children:N.mostSharedList.name}),r.jsxs("div",{className:"text-sm text-[rgb(var(--secondary-color))]",children:[N.maxShares," gebruiker",1!==N.maxShares?"s":""]})]})]})]}),r.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-[rgb(var(--card-bg))] rounded-2xl shadow-lg border border-[rgb(var(--border-color))]/20 p-6 lg:p-8",children:[r.jsxs("h2",{className:"text-xl lg:text-2xl font-bold text-[rgb(var(--card-text))] mb-6 flex items-center",children:[r.jsx(o,{className:"w-6 h-6 mr-3 text-[rgb(var(--primary-color))]"}),"Activiteit Overzicht"]}),r.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-[rgb(var(--text-color))]/80",children:"Totaal items:"}),r.jsx("span",{className:"font-semibold text-[rgb(var(--card-text))] text-lg",children:N.totalItems})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-[rgb(var(--text-color))]/80",children:"Afgerond:"}),r.jsx("span",{className:"font-semibold text-[rgb(var(--card-text))] text-lg",children:N.completedItems})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-[rgb(var(--text-color))]/80",children:"Voltooiingspercentage:"}),r.jsxs("span",{className:"font-semibold text-[rgb(var(--success-color))] text-lg",children:[N.completionRate,"%"]})]}),r.jsx("div",{className:"pt-4 border-t border-[rgb(var(--border-color))]/20",children:r.jsx("div",{className:"progress-bar-container h-3",children:r.jsx("div",{className:"progress-bar-fill",style:{width:`${N.completionRate}%`}})})})]})]})]}),r.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-[rgb(var(--card-bg))] rounded-2xl shadow-lg border border-[rgb(var(--border-color))]/20 p-6 lg:p-8",children:[r.jsxs("h2",{className:"text-xl lg:text-2xl font-bold text-[rgb(var(--card-text))] mb-6 flex items-center",children:[r.jsx(x,{className:"w-6 h-6 mr-3 text-[rgb(var(--accent-color))]"}),"Grootste Lijsten"]}),r.jsxs("div",{className:"space-y-3",children:[N.listSizes.slice(0,5).map((e,t)=>r.jsxs("div",{className:"flex items-center justify-between py-3 lg:py-4 border-b border-[rgb(var(--border-color))]/10 last:border-b-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 bg-[rgb(var(--primary-color))]/20 rounded-full flex items-center justify-center text-sm lg:text-base font-medium text-[rgb(var(--primary-color))]",children:t+1}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-[rgb(var(--card-text))] text-base lg:text-lg",children:e.name}),r.jsx("div",{className:"text-sm text-[rgb(var(--text-color))]/60",children:e.isOwned?"Eigenaar":"Gedeeld"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-semibold text-[rgb(var(--card-text))] text-lg lg:text-xl",children:e.size}),r.jsx("div",{className:"text-sm text-[rgb(var(--text-color))]/60",children:"items"})]})]},t)),0===N.listSizes.length&&r.jsx("div",{className:"text-center py-8 text-[rgb(var(--text-color))]/60",children:"Geen lijsten gevonden"})]})]}),r.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-[rgb(var(--card-bg))] rounded-2xl shadow-lg border border-[rgb(var(--border-color))]/20 p-6 lg:p-8",children:[r.jsxs("h2",{className:"text-xl lg:text-2xl font-bold text-[rgb(var(--card-text))] mb-6 flex items-center",children:[r.jsx(n,{className:"w-6 h-6 mr-3 text-[rgb(var(--secondary-color))]"}),"Recente Activiteit"]}),r.jsxs("div",{className:"space-y-3",children:[N.recentActivity.map((e,t)=>r.jsxs("div",{className:"flex items-center justify-between py-3 lg:py-4 border-b border-[rgb(var(--border-color))]/10 last:border-b-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-3 h-3 bg-[rgb(var(--success-color))] rounded-full flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-[rgb(var(--card-text))] text-base lg:text-lg",children:e.name}),r.jsxs("div",{className:"text-sm text-[rgb(var(--text-color))]/60",children:[e.items?.length||0," items • ",e.isCreator?"Eigenaar":"Gedeeld"]})]})]}),r.jsx("div",{className:"text-right",children:r.jsx("div",{className:"text-sm lg:text-base text-[rgb(var(--text-color))]/80",children:u(e.updatedAt)})})]},t)),0===N.recentActivity.length&&r.jsx("div",{className:"text-center py-8 text-[rgb(var(--text-color))]/60",children:"Geen recente activiteit"})]})]}),r.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-[rgb(var(--card-bg))] rounded-2xl shadow-lg border border-[rgb(var(--border-color))]/20 p-6 lg:p-8",children:r.jsxs("div",{className:"flex items-center justify-center text-[rgb(var(--text-color))]/60",children:[r.jsx(g,{className:"w-5 h-5 mr-2"}),r.jsx("span",{className:"text-sm lg:text-base",children:"Gegevens worden lokaal berekend en niet opgeslagen"})]})})]})})]})};export{h as default};
