import{r as e,j as t,X as s,O as o,V as n,Y as a,g as r,t as l,D as i}from"./vendor-CjuAVZ7F.js";import{m as c}from"./ui-CiILanuQ.js";const d=({listId:d,list:m,onClose:x})=>{const[h,p]=e.useState(!1);e.useEffect(()=>{const e=()=>{const e=navigator.userAgent.toLowerCase(),t=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(e),s="ontouchstart"in window||navigator.maxTouchPoints>0,o=window.innerWidth<1024;p(t||s||o)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const b=`${window.location.origin}${window.location.pathname}#/shared/${d}`,g=m?.isCreator||!1,u=m?.name||"Boodschappenlijst",j=`ðŸ›’ ${u}\n\nIk deel mijn boodschappenlijst met je! Klik op de link om de lijst te bekijken en items toe te voegen:\n\n${b}`,v=async()=>{try{await navigator.clipboard.writeText(b);const e=event.target.closest("button"),t=e.innerHTML;e.innerHTML='<span class="inline-flex items-center"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>Gekopieerd!</span>',setTimeout(()=>{e.innerHTML=t},2e3)}catch(e){alert("Kon link niet kopiÃ«ren. Probeer handmatig te selecteren.")}};return t.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-start lg:pt-[88px] justify-center p-4 z-50",onClick:x,children:t.jsxs(c.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-[rgb(var(--card-bg))] rounded-2xl shadow-xl w-full max-w-md max-h-[calc(100vh-2rem)] lg:max-h-[calc(100vh-88px)] flex flex-col mt-0 relative",onClick:e=>e.stopPropagation(),style:{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain"},children:[t.jsx("button",{onClick:x,className:"absolute top-2 right-2 z-50 p-3 rounded-full bg-red-500 hover:bg-red-600 shadow-2xl border-2 border-white transition-all duration-200 transform hover:scale-110 md:hidden",style:{backgroundColor:"#ef4444",borderColor:"#ffffff",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3), 0 4px 10px rgba(0, 0, 0, 0.2)",minWidth:"48px",minHeight:"48px"},"aria-label":"Sluiten",children:t.jsx(s,{className:"w-6 h-6 text-white"})}),t.jsx("button",{onClick:x,className:"absolute top-2 left-2 z-50 px-3 py-2 rounded-lg bg-black bg-opacity-70 text-white text-sm font-medium hover:bg-opacity-80 transition-all duration-200 md:hidden",style:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},children:"âœ• Sluiten"}),t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[rgb(var(--border-color))]/50 flex-shrink-0",children:[t.jsx("h2",{className:"text-xl font-semibold text-[rgb(var(--card-text))] pr-20 md:pr-0",children:g?"Deel boodschappenlijst":"Doorsturen boodschappenlijst"}),t.jsx("button",{onClick:x,className:"hidden md:flex p-2 rounded-lg hover:bg-[rgb(var(--border-color))]/20 transition-colors",children:t.jsx(s,{className:"w-5 h-5 text-[rgb(var(--text-color))]/60"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",style:{WebkitOverflowScrolling:"touch",scrollBehavior:"smooth",overscrollBehavior:"contain",touchAction:"pan-y"},children:t.jsxs("div",{className:"p-6 space-y-6 pb-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-[rgb(var(--text-color))]/80 mb-4",children:g?"Scan de QR-code om deze boodschappenlijst te delen":"Scan de QR-code om deze gedeelde boodschappenlijst door te sturen"}),t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-[rgb(var(--border-color))]/20",children:t.jsx(o,{id:"qr-code",value:b,size:200,level:"H",className:"w-full h-full",bgColor:"#ffffff",fgColor:"#000000"})})}),t.jsxs("div",{className:"text-sm text-[rgb(var(--text-color))]/80 mb-4",children:[t.jsx("p",{className:"font-medium mb-2",children:"Deellink:"}),t.jsx("p",{className:"text-xs break-all font-mono bg-[rgb(var(--border-color))]/20 p-2 rounded",children:b})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("p",{className:"text-sm font-medium text-[rgb(var(--card-text))] text-center",children:"Direct delen via:"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{onClick:()=>{const e=`https://wa.me/?text=${encodeURIComponent(j)}`;window.open(e,"_blank")},className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[t.jsx(n,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium text-sm",children:"WhatsApp"})]}),t.jsxs("button",{onClick:()=>{const e=`https://t.me/share/url?url=${encodeURIComponent(b)}&text=${encodeURIComponent(`ðŸ›’ ${u} - Boodschappenlijst`)}`;window.open(e,"_blank")},className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[t.jsx(a,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium text-sm",children:"Telegram"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{onClick:()=>{const e=`mailto:?subject=${encodeURIComponent(`ðŸ›’ ${u} - Gedeelde Boodschappenlijst`)}&body=${encodeURIComponent(`Hallo!\n\nIk deel mijn boodschappenlijst "${u}" met je.\n\nKlik op deze link om de lijst te bekijken en items toe te voegen:\n${b}\n\nGroeten!`)}`;window.open(e)},className:"flex items-center justify-center space-x-2 px-4 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[t.jsx("span",{className:"text-sm",children:"ðŸ“§"}),t.jsx("span",{className:"font-medium text-sm",children:"E-mail"})]}),t.jsxs("button",{onClick:async()=>{if(navigator.share)try{await navigator.share({title:`ðŸ›’ ${u}`,text:`Bekijk mijn boodschappenlijst "${u}"`,url:b})}catch(e){"AbortError"!==e.name&&v()}else v()},className:"flex items-center justify-center space-x-2 px-4 py-3 bg-[rgb(var(--color-info-button))] hover:opacity-90 text-white rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[t.jsx(r,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium text-sm",children:"Meer..."})]})]})]}),t.jsxs("div",{className:"flex space-x-3 pt-2 border-t border-[rgb(var(--border-color))]/20",children:[t.jsxs("button",{onClick:v,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-[rgb(var(--color-primary-button))] hover:opacity-90 text-white rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[t.jsx(l,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:"ðŸ“‹ Kopieer"})]}),t.jsxs("button",{onClick:()=>{const e=document.getElementById("qr-code");if(e){const t=(new XMLSerializer).serializeToString(e),s=document.createElement("canvas"),o=s.getContext("2d"),n=new Image;n.onload=()=>{s.width=n.width,s.height=n.height,o.drawImage(n,0,0);const e=document.createElement("a");e.href=s.toDataURL("image/png"),e.download=`boodschappenlijst-${d}.png`,e.click()},n.src="data:image/svg+xml;base64,"+btoa(t)}},className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 bg-[rgb(var(--color-secondary-button))] hover:opacity-90 text-white rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[t.jsx(i,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:"ðŸ’¾ QR"})]})]})]}),t.jsxs("div",{className:"text-xs text-[rgb(var(--text-color))]/60 text-center space-y-2",children:[t.jsx("p",{children:t.jsx("strong",{children:g?"Delen met anderen:":"Doorsturen naar anderen:"})}),t.jsxs("div",{className:"bg-[rgb(var(--border-color))]/10 p-3 rounded-lg text-left",children:[t.jsx("p",{className:"mb-1",children:"âœ… Anderen kunnen items toevoegen en bewerken"}),t.jsx("p",{className:"mb-1",children:"âœ… Anderen kunnen items als voltooid markeren"}),g?t.jsx("p",{className:"text-accent",children:"ðŸ”’ Alleen jij kunt de lijst verwijderen"}):t.jsx("p",{className:"text-accent",children:"ðŸ”’ Alleen de eigenaar kan de lijst verwijderen"})]}),t.jsxs("div",{className:"md:hidden mt-8 pt-6 border-t border-[rgb(var(--border-color))]/20",children:[t.jsx("button",{onClick:x,className:"w-full py-4 px-6 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-xl shadow-lg transition-all duration-200 transform hover:scale-105",children:t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx(s,{className:"w-5 h-5"}),t.jsx("span",{children:"Sluiten"})]})}),t.jsx("div",{className:"h-8"})]})]})]})})]})})};export{d as default};
